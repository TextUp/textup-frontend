{{title 'Admin ' stateManager.owner.name prepend=false separator=" - "}}

{{#sliding-drawer contentsId='menu'
    closeOnContentsClick=true
    allowCloseContentsSelector='.menu-item'
    ignoreCloseContentsSelector='.menu-slideout, .header-slideout, .menu-header'
    bodyId='body'
    as |drawer|}}
    <span class="display-xs display-s display-m menu-toggle">
        <button class="btn btn-plain full-height"
            onclick={{drawer.actions.toggle}}>
            <span class='halo halo-sm bg-color bg-dark text-heading'>
                <span class="fa fa-home"></span>
            </span>
        </button>
    </span>
    {{#liquid-if (get slideoutService.shouldShow constants.SLIDEOUT.OUTLET.DETAIL)
        class='animate-slide-from-right animated-overflow'}}
        {{outlet constants.SLIDEOUT.OUTLET.DETAIL}}
    {{/liquid-if}}
    {{outlet}}
{{else}}
    {{#account-switcher class='display-xs display-s display-m'
        activeOwner=stateManager.owner
        user=authService.authUser
        doLogOut=(route-action 'logout')
        containerTagName='li'
        doRegisterContainer=(action (mut accountSwitcher))
        toggleClass='xs-8-row-10'}}
        <button class="xs-2-row-10 textup-account-switcher__display"
            onclick={{route-action 'toggleSlideout' 'slideouts/account' 'admin' constants.SLIDEOUT.OUTLET.DEFAULT}}>
            <span class="fa fa-cog"></span>
        </button>
    {{/account-switcher}}
    <li class='menu-item menu-header menu-header-light display-l'
        {{action 'toggleSlideout' 'slideouts/account' 'admin' constants.SLIDEOUT.OUTLET.DEFAULT}}>
        {{#tool-tip classNames='btn-expand'
            title=(concat 'Admin (' stateManager.owner.name ')')
            side=constants.TOOLTIP.SIDE.RIGHT}}
            <span class="fa fa-home"></span>
        {{/tool-tip}}
    </li>
    {{#if numPending}}
        {{#link-to 'admin.pending' tagName='li' classNames='menu-item'}}
            {{#tool-tip classNames='btn-expand display-l'
                title=(concat 'Pending (' numPending ')')
                side=constants.TOOLTIP.SIDE.RIGHT}}
                <span class="fa fa-clock-o"></span>
            {{/tool-tip}}
            <div class="btn-expand display-xs display-s display-m">
                <span>Pending</span>
                <span class="badge dark">{{numPending}}</span>
            </div>
        {{/link-to}}
    {{/if}}
    <li class="menu-divider display-l"></li>
    <li class='menu-item menu-slideout display-l'
        {{action 'toggleSlideout' 'slideouts/new-staff' 'admin' constants.SLIDEOUT.OUTLET.DEFAULT}}>
        {{#tool-tip classNames='btn-expand' title='Add Staff' side=constants.TOOLTIP.SIDE.RIGHT}}
            <span class="fa fa-user-plus"></span>
        {{/tool-tip}}
    </li>
    {{#link-to 'admin.people' tagName='li' classNames='menu-item display-l'}}
        {{#tool-tip classNames='btn-expand' title='People' side=constants.TOOLTIP.SIDE.RIGHT}}
            <span class="fa fa-user"></span>
        {{/tool-tip}}
    {{/link-to}}
    <li class="menu-divider display-l"></li>
    <li class='menu-item menu-slideout display-l'
        {{action 'toggleSlideout' 'slideouts/teams/list' 'admin' constants.SLIDEOUT.OUTLET.DEFAULT}}>
        {{#tool-tip classNames='btn-expand' title='Teams' side=constants.TOOLTIP.SIDE.RIGHT}}
            <span class="fa fa-users"></span>
        {{/tool-tip}}
    </li>

    {{!-- staff members --}}

    <li class="menu-divider display-xs display-s display-m">
        People
        <button class="btn btn-plain v-center-right"
            {{action 'toggleSlideout' 'slideouts/new-staff' 'admin' constants.SLIDEOUT.OUTLET.DEFAULT}}>
            <span class="fa fa-plus"></span>
        </button >
    </li>
    <li class="menu-item display-xs display-s display-m
        {{if (and (not stateManager.viewingTeam) (eq filter 'active')) 'active'}}"
        {{action 'changeFilter' 'active'}}>
        <span>Active</span>
    </li>
    <li class='menu-item display-xs display-s display-m
        {{if (and (not stateManager.viewingTeam) (eq filter 'admins')) 'active'}}'
        {{action 'changeFilter' 'admins'}}>
        <span>Admins</span>
    </li>
    <li class='menu-item display-xs display-s display-m
        {{if (and (not stateManager.viewingTeam) (eq filter 'deactivated')) 'active'}}'
        {{action 'changeFilter' 'deactivated'}}>
        <span>Deactivated</span>
    </li>

    {{!-- teams --}}

    <li class="menu-divider display-xs display-s display-m">
        Teams
        <button class="btn btn-plain v-center-right"
            {{action 'toggleSlideout' 'slideouts/teams/create' 'admin' constants.SLIDEOUT.OUTLET.DEFAULT}}>
            <span class="fa fa-plus"></span>
        </button >
    </li>
    {{#each model.teams as |team|}}
        {{#link-to 'admin.team' team tagName='li'
            classNames='menu-item display-xs display-s display-m'}}
            <span>{{team.name}}</span>
            <span class="badge dark">{{team.numMembers}}</span>
            <span class="indicator" style="background-color:{{team.hexColor}};"></span>
        {{/link-to}}
    {{else}}
        <li class='display-xs display-s display-m'>
            <div class="pad-t pad-b">No teams yet.</div>
        </li>
    {{/each}}

    <li class='menu-footer display-l pad-l-half pad-r-half pad-b'>
        <img class="brand" src='assets/images/logo.png' />
    </li>
{{/sliding-drawer}}
