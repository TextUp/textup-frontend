{{#slideout-pane
    headerProps=(hash title='Call')
    footerComponent="slideout-pane/actions"
    footerProps=(hash
        showFooter=true
        doPrimary=(route-action 'makeCallForNumber' (route-action 'closeAllSlideouts'))
        disablePrimary=(or isCallingForNumber (not callByNumber) (not callByNumberIsValid))
        primaryLabel=(if isCallingForNumber "Calling..." "Call")
        primaryProgressLabel="Calling...")
    onOpen=(route-action 'initializeCallSlideout')
    doClose=(route-action 'closeAllSlideouts')
    forceKeepOpen=isCallingForNumber
    focusSelector='.number-control' as |slideout|}}

    <div class="pad-t pad-l pad-r">
        <div class="form-element">
            {{#hide-away clickOutToClose=true
                focusOutClose=true
                bodyClickClose=false
                animation='fade'
                hideTriggerOnOpen=true
                bodyFocusOnOpenSelector='input'}}
                {{input type="tel"
                    class='form-control form-control--only-bottom text-biggest text-center'
                    pattern="[0-9]*" placeholder="Enter number here"
                    value=callByNumber
                    key-up=(route-action 'validateAndCheckCallNumberForName')
                    focus-out=(route-action 'validateAndCheckCallNumberForName')}}
            {{else}}
                <input type="tel"
                    disabled='disabled'
                    class='form-control form-control--only-bottom text-biggest text-center'
                    value={{phone-number callByNumber}}>
            {{/hide-away}}
            <div class='row margin-t margin-b text-center text-small'>
                {{#if callByNumberContact}}
                    <span class="center text-ellipses xs-full-row">
                        <span class="text-bold">{{callByNumberContact.identifier}}</span>
                        {{#if callByNumberMoreNum}}
                            and {{callByNumberMoreNum}} {{pluralize 'other' callByNumberMoreNum}}
                        {{/if}}
                    </span>
                {{/if}}
            </div>
        </div>
        <div class="form-element margin-b-double">
            {{number-control val=callByNumber
                showAlphabet=true
                numDigits=10
                doChange=(route-action 'onCallNumberChange')
                onSubmit=(route-action 'makeCallForNumber' slideout.actions.close)}}
        </div>
    </div>
{{/slideout-pane}}
