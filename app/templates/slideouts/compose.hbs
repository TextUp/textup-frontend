{{#slideout-pane
    headerComponent=(component "slideout-pane/title" title="Compose")
    footerComponent=(component "slideout-pane/actions"
        showFooter=true
        onPrimary=(service-action "slideout/composeService" "finishSlideout")
        disablePrimary=(service-prop "slideout/composeService" "shouldDisablePrimaryAction")
        primaryLabel="Send"
        primaryProgressLabel="Sending...")
    onClose=(service-action "slideout/composeService" "cancelSlideout")
    forceKeepOpen=(service-prop "slideout/composeService" "shouldForceKeepOpen")
    focusSelector=".multi-select-new-input" as |slideout|}}
	<div class="form">
		<div class="form__group">
            {{#tour-components/hint hintId=(constant "HINT.COMPOSE")}}
				{{#multi-select data=(service-prop "slideout/composeService" "tagRecipients")
			    	selected=(service-prop "slideout/composeService" "recipients")
			    	filterProperty=(constant "PROP_NAME.FILTER_VAL")
                    displayProperty=(constant "PROP_NAME.READABLE_IDENT")
			    	identityProperty=(constant "PROP_NAME.URL_IDENT")
			    	doSearch=(service-action "contactService" "searchContacts")
			    	doCreate=(service-action "slideout/composeService" "createRecipient")
			    	onInsert=(service-action "slideout/composeService" "insertRecipient")
					onRemove=(service-action "slideout/composeService" "removeRecipient") as |recipient|}}
					{{multi-select/display-badge entity=recipient}}
				{{/multi-select}}
            {{/tour-components/hint}}
		</div>
		<div class="form__group">
            {{!-- [FUTURE] textarea component that does not rely on two-way binding --}}
			{{textarea rows="3"
				autoresize=true
				class="form__input form__input--multiline"
				maxLength=(constant "DEFAULT.OUTGOING_TEXT_NUM_CHARACTERS")
				value=(get (service "slideout/composeService") "recipients")
				placeholder="Type your message here"}}
		</div>
	</div>
{{/slideout-pane}}
