{{#slideout-pane
    headerComponent=(component "slideout-pane/accounts"
        title="Your Account"
        activeName=(service-prop "stateService" "owner.name")
        activeNumber=(service-prop "stateService" "owner.phone.content.number")
        user=(service-prop "authService" "authUser")
        onLogOut=(service-action "authService" "logout"))
    footerComponent=(component "slideout-pane/actions"
        showFooter=(service-prop "accountSlideoutService" "shouldShowFooter")
        onPrimary=(service-action "accountSlideoutService" "finishSlideout")
        disablePrimary=(service-prop "accountSlideoutService" "shouldDisablePrimaryAction")
        primaryLabel="Update"
        primaryProgressLabel="Updating..."
        onSecondary=(service-action "accountSlideoutService" "revertAllChanges"))
    onClose=(service-action "accountSlideoutService" "cancelSlideout")
    forceKeepOpen=(service-prop "accountSlideoutService" "shouldForceKeepOpen")}}
    {{#tab-container onChange=(service-action "accountSlideoutService" "revertAllChanges") as |tabContainer|}}
        {{#with (service-prop "stateService" "ownerAsOrg") as |org|}}
            {{#tab-container/item doRegister=tabContainer.actions.register
                onDestroy=tabContainer.actions.unregister
                title=org.name}}
                {{model-form/org org=org
                    onRevertTimeout=(service-action "dataService" "revertProperty" org "timeout")
                    onLocationError=(service-action "mapService" "handleError")}}
            {{/tab-container/item}}
        {{/with}}
        {{#with (service-prop "stateService" "ownerAsTeam") as |team|}}
            {{#tab-container/item doRegister=tabContainer.actions.register
                onDestroy=tabContainer.actions.unregister
                title=team.name}}
                {{model-form/team team=team
                    onLocationError=(service-action "mapService" "handleError")}}
            {{/tab-container/item}}
        {{/with}}
        {{#tab-container/item doRegister=tabContainer.actions.register
            onDestroy=tabContainer.actions.unregister
            title="My Account"}}
            {{#with (service-prop "authService" "authUser") as |staff|}}
                {{model-form/staff doRegister=(service-mut "accountSlideoutService" "staffForm")
                    staff=staff
                    onRevert=(service-action "dataService" "revert" staff)
                    onSave=(service-action "dataService" "persist" staff)
                    onUpdateLockCode=(service-action "staffService" "updateLockCode" staff)
                    onUpdatePassword=(service-action "staffService" "updatePassword" staff)
                    onUpdateUsername=(service-action "staffService" "updateUsername" staff)
                    onValidateCredentials=(service-action "validateAuthService" "checkPassword"
                        staff.username)}}
            {{/with}}
        {{/tab-container/item}}
    {{/tab-container}}
{{/slideout-pane}}
